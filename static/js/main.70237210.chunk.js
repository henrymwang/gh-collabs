(window["webpackJsonpgh-collabs"]=window["webpackJsonpgh-collabs"]||[]).push([[0],{24:function(e,t,n){},28:function(e,t,n){e.exports=n(49)},33:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),c=n.n(o),s=(n(33),n(1)),l=n.n(s),i=n(8),u=n(16),d=n(17),h=n(19),p=n(18),f=n(20),m=(n(24),n(12)),v=n.n(m),g=n(10),k=n.n(g),E=n(9),b=n.n(E),w=n(4),x=n.n(w),y=n(21),j=n.n(y),O=n(14),N=n.n(O),S=n(22),D=n.n(S),I=n(6),R=n(2),U=function(e){return R.j().on("zoom",function(){e.attr("transform",R.a.transform)})},q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={restart:function(){}},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.nodes,a=n.links;I.isEqual(e.nodes,r)&&I.isEqual(e.links,a)||this.state.restart()}},{key:"resetZoom",value:function(){var e=R.i("svg");e.transition().duration(1e3).call(U(e.select("g")).transform,R.k)}},{key:"draw",value:function(){var e=this,t=R.i("svg").attr("class","svg-content"),n=+t.attr("width"),r=+t.attr("height"),a=R.g(R.h),o=function(){(i=i.data(e.props.nodes,function(e){return e.id})).exit().remove();var t=i.enter().append("g").attr("class","node");t.append("text").attr("x",6).attr("y",6).text(function(e){return e.id}).attr("fill","black").attr("stroke","black").attr("stroke-width",.25),t.append("circle").attr("fill",function(e){return a(e.id)}).attr("r",5);i=i.merge(t),(l=l.data(e.props.links)).exit().remove(),l=l.enter().append("line").merge(l),c.nodes(e.props.nodes),c.force("link").links(e.props.links),c.alpha(1).restart()},c=R.d(this.props.nodes).force("charge",R.c().strength(-1e3)).force("link",R.b(this.props.links).id(function(e){return e.id}).distance(50)).force("x",R.e(n/2).strength(1)).force("y",R.f(r/2).strength(1)).alphaTarget(.01).on("tick",function(){i.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),l.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),s=t.append("g").attr("class","everything"),l=s.append("g").attr("stroke","#000").attr("stroke-width",1.5).selectAll(".link"),i=s.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll(".node");t.call(U(s)),o(),this.setState({restart:o})}},{key:"render",value:function(){var e=this;return a.a.createElement(v.a,null,a.a.createElement(N.a,{onClick:function(t){return e.resetZoom()}},"Reset Zoom"))}}]),t}(r.Component),A="https://api.github.com",B=function(e){return{id:e.login}},T=function(e,t,n,r){var a=e.reduce(function(e,t){return e.concat(t.targets)},[]);a=I.unionBy(t,a,"id");var o=e.reduce(function(e,t){return e.concat(t.targets.map(function(e){var n=e.id;return{source:t.id,target:n}}))},n);return{newNodes:a,uniqLinks:I.uniqWith(o,function(e,t){return e.source===t.source&&e.target===t.target||e.source===t.target&&e.target===t.source}),nextNodes:e.reduce(function(e,t){return e.concat(t.targets.filter(function(e){var t=e.id;return!r.has(t)}))},[])}},C=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).componentDidUpdate=function(){var e=Object(i.a)(l.a.mark(function e(t,r){var a,o,c,s,u,d,h,p,f,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.depth===n.state.depth){e.next=7;break}return a=n.state,o=a.nextToExpand,c=a.nodes,s=a.expanded,u=a.links,e.next=4,Promise.all(o.map(function(){var e=Object(i.a)(l.a.mark(function e(t){var r,a,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,n.getFollowers(r);case 3:return a=e.sent,e.next=6,a.map(B);case 6:return o=e.sent,s.add(r),e.t0=r,e.next=11,o;case 11:return e.t1=e.sent,e.abrupt("return",{id:e.t0,targets:e.t1});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:d=e.sent,h=T(d,c,u,s),p=h.newNodes,f=h.uniqLinks,m=h.nextNodes,n.setState({nodes:p,links:f,nextToExpand:m});case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.textInput=a.a.createRef(),n.state={searchResults:{},width:600,height:400,id:"barchart",nodes:[],links:[],nextToExpand:[],expanded:new Set,depth:0},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getUser",value:function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/users/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",Promise.reject(new Error(n.status)));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/users/").concat(t,"/followers"));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",Promise.reject(new Error(n.status)));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleIncrDepth",value:function(){this.setState(function(e,t){return{depth:e.depth+1}})}},{key:"handleSearch",value:function(){var e=this,t=this.textInput.current.value;this.setState({depth:0,nodes:[],links:[],nextToExpand:[],expanded:new Set}),this.getUser(t).then(function(t){var n={githubID:t.login,followers:t.followers,following:t.following,avatarUrl:t.avatar_url};return e.setState({searchResults:n}),n.githubID}).catch(function(t){e.setState({searchResults:{}})}).then(function(t){e.getFollowers(t).then(function(n){var r={id:t,targets:n.map(function(e){return{id:e.login}})};e.setState(function(e){var n=e.nodes,a=e.links,o=e.expanded;o.add(t);var c=T([r],n,a,o),s=c.newNodes,l=c.uniqLinks,i=c.nextNodes;return{nodes:s=s.concat({id:t}),links:l,nextToExpand:i}})}).catch(function(t){e.setState({searchResults:{}}),console.log(t)})})}},{key:"render",value:function(){var e,t=this,n=this.state.searchResults,r=n.githubID,o=n.followers,c=n.following,s=n.avatarUrl;e=0===Object.keys(n).length?a.a.createElement("tr",null):a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("img",{alt:"avatar of "+r,width:50,height:50,src:s})),a.a.createElement("td",null,r),a.a.createElement("td",null,o),a.a.createElement("td",null,c));var l=[{name:"React.js",href:"https://reactjs.org/"},{name:"D3.js (v5)",href:"https://d3js.org/"},{name:"React-Bootstrap (Boostrap v4)",href:"https://react-bootstrap.github.io/"},{name:"Github API",href:"https://developer.github.com/v3/"}].map(function(e){var t=e.name,n=e.href;return a.a.createElement("span",{key:t},a.a.createElement("a",{href:n},t),a.a.createElement("br",null))});return a.a.createElement("div",{className:"App"},a.a.createElement(v.a,null,a.a.createElement(b.a,null,a.a.createElement(x.a,{className:"d-none d-lg-block"}),a.a.createElement(x.a,null,a.a.createElement("h3",null,"Github Network"),a.a.createElement("div",null,a.a.createElement(k.a,{className:"mb-3"},a.a.createElement(k.a.Prepend,null,a.a.createElement(k.a.Text,{id:"basic-addon1"},"@")),a.a.createElement(j.a,{placeholder:"Username (ex. henrymwang)","aria-label":"Username","aria-describedby":"basic-addon1",ref:this.textInput,type:"text"}),a.a.createElement(k.a.Append,null,a.a.createElement(N.a,{variant:"outline-secondary",onClick:function(e){return t.handleSearch()}},"Search"))))),a.a.createElement(x.a,{className:"d-none d-lg-block"})),a.a.createElement(b.a,null,a.a.createElement(x.a,null,a.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Avatar"),a.a.createElement("th",null,"Username"),a.a.createElement("th",null,"Followers"),a.a.createElement("th",null,"Following"))),a.a.createElement("tbody",null,e)))),a.a.createElement(b.a,null,a.a.createElement(q,{nodes:this.state.nodes,links:this.state.links})),a.a.createElement(b.a,null,a.a.createElement(x.a,null,this.state.nodes.length>0&&this.state.depth<2&&a.a.createElement("div",null,a.a.createElement(N.a,{variant:"outline-secondary",onClick:function(e){return t.handleIncrDepth()}},"Increase Depth"),a.a.createElement("p",null,"Depth: ",this.state.depth))))),a.a.createElement(v.a,null,a.a.createElement("div",{id:"svg-container"},a.a.createElement("svg",{width:400,height:400,viewBox:"0 0 400 400",preserveAspectRatio:"xMidYMid meet"}))),a.a.createElement(v.a,null,a.a.createElement("footer",{className:"blockquote-footer"},"Made with",a.a.createElement("br",null),l,".")))}}]),t}(r.Component),F=n(27),P=n(15),M=function(e,t){console.log("newIDs",t);var n=t.map(function(e){return{id:e}});return console.log("New",n),I.unionBy(Object(P.a)(e),Object(P.a)(n),"id")},W=function(e,t){var n=t.reduce(function(e,t){return e.concat(t.targets.map(function(e){return{source:t.id,target:e}}))},[]),r=I.union(e,n);return I.uniqWith(r,function(e,t){return e.source===t.source&&e.target===t.target})},L=function(e,t,n){return I.difference(n.map(function(e){return e.id}),t,e)};r.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.70237210.chunk.js.map